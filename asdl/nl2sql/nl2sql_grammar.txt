# Assumptions:
# 1. sql is correct
# 2. from clause is ignored since only one table is available
# 3. only has and must has select and where clause

# sql: {
#   agg: [agg_id, ...],
#   sel: [col_id, ...],
#   cond_conn_op: int,
#   conds: [cond_triple, ...]
# }
# cond_triple = (col_id, cmp_id, value_string)

# AGG_OPS = ('none', 'avg', 'max', 'min', 'count', 'sum')
# COND_CONN_OPS = ('none', 'and', 'or')
# CMP_OP = ('>', '<', '==', '!=')

col_id, val_id

sql = SelectWhere(select select, condition condition)

select = SelectColumn[col_unit col_unit:1,3](col_unit col_unit)

col_unit = UnaryColumnUnit(agg_op agg_op, col_id col_id)

condition = AndCondition[condition condition:2,4](condition condition)
    | OrCondition[condition condition:2,4](condition condition)
    | CmpCondition(cmp_op cmp_op, col_id col_id, val_id val_id)

agg_op = None | Avg | Max | Min | Count | Sum

cmp_op = GreaterThan | LessThan | Equal | NotEqual